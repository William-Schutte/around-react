(this["webpackJsonpproject-10-11-react"]=this["webpackJsonpproject-10-11-react"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),s=(a(12),a(1)),l=a(4),i=a.n(l);var m=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"header__logo",src:i.a,alt:"Around the U.S. Logo"}))},u=a(5),d=a(6),f=new(function(){function e(t){Object(u.a)(this,e),this.options=t}return Object(d.a)(e,[{key:"getUserInfo",value:function(){return fetch("".concat(this.options.baseUrl,"/users/me"),{headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"patchUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this.options.baseUrl,"/users/me"),{method:"PATCH",headers:this.options.headers,body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"patchUserPic",value:function(e){var t=e.avatar;return fetch("".concat(this.options.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.options.headers,body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.options.baseUrl,"/cards"),{headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addNewCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this.options.baseUrl,"/cards"),{method:"POST",headers:this.options.headers,body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.options.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"likeCard",value:function(e,t){return e.likes.some((function(e){return e._id===t}))?fetch("".concat(this.options.baseUrl,"/cards/likes/").concat(e._id),{method:"DELETE",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})):fetch("".concat(this.options.baseUrl,"/cards/likes/").concat(e._id),{method:"PUT",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"unlikeCard",value:function(e){return fetch("".concat(this.options.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-1",headers:{authorization:"b3ddd9c8-cc64-4470-93b1-0840e92522c5","Content-Type":"application/json"}});var p=function(e){return r.a.createElement("li",{className:"card"},r.a.createElement("div",{className:"card__image",style:{backgroundImage:"url(".concat(e.card.link,")")},onClick:function(){e.onCardClick(e.card)}}),r.a.createElement("button",{type:"button","aria-label":"Card Delete Button",className:"card__delete-button"}),r.a.createElement("div",{className:"card__overlay"},r.a.createElement("h2",{className:"card__name"},e.card.name),r.a.createElement("div",{className:"card__like-column"},r.a.createElement("button",{type:"button","aria-label":"Card Favorite Button",className:"card__fav-button"}),r.a.createElement("p",{className:"card__like-count"},e.card.likes.length))))};var h=function(e){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],o=a[1],c=r.a.useState(""),l=Object(s.a)(c,2),i=l[0],m=l[1],u=r.a.useState(""),d=Object(s.a)(u,2),h=d[0],_=d[1],E=r.a.useState([]),b=Object(s.a)(E,2),N=b[0],k=b[1];return r.a.useEffect((function(){var e=f.getUserInfo(),t=f.getInitialCards();Promise.all([e,t]).then((function(e){console.log(e),o(e[0].name),m(e[0].about),_(e[0].avatar),k(e[1])}))}),[]),r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("button",{type:"button",className:"profile__pic-button",onClick:e.onEditAvatar}),r.a.createElement("div",{className:"profile__picture",style:{backgroundImage:"url(".concat(h,")")},alt:"My Profile Pic"}),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__name"},n),r.a.createElement("p",{className:"profile__occupation"},i)),r.a.createElement("button",{type:"button","aria-label":"Edit Profile Button",className:"profile__edit-button btn-animate",onClick:e.onEditProfile}),r.a.createElement("button",{type:"button","aria-label":"Add Card Button",className:"profile__add-button btn-animate",onClick:e.onAddPlace})),r.a.createElement("section",{className:"cards"},r.a.createElement("ul",{className:"cards__container"},N.map((function(t){return r.a.createElement(p,{key:t._id,card:t,onCardClick:e.onCardClick,onClose:e.onClose})})))))};var _=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa92020 William Schutte. Around the U.S."))};var E=function(e){return r.a.createElement("form",{className:"form ".concat(e.name," ").concat(e.isOpen&&"popup-opened"),name:e.name},r.a.createElement("div",{className:"form__container"},r.a.createElement("h2",{className:"form__title"},e.title),e.children,r.a.createElement("button",{type:"submit",className:"form__save-button btn-animate"},e.btnText),r.a.createElement("button",{type:"button","aria-label":"Close Form Button",className:"form__exit-button btn-animate",onClick:e.onClose})))};var b=function(e){var t=e.card,a=e.onClose;return r.a.createElement("div",{className:"picture ".concat(t&&"popup-opened")},r.a.createElement("div",{className:"picture__column"},r.a.createElement("img",{className:"picture__img",src:t?t.link:"",alt:t?t.name:""}),r.a.createElement("h2",{className:"picture__title"},t&&t.name),r.a.createElement("button",{type:"button","aria-label":"Close Picture Button",className:"form__exit-button btn-animate",onClick:a})))};var N=function(){var e=r.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],o=r.a.useState(!1),c=Object(s.a)(o,2),l=c[0],i=c[1],u=r.a.useState(!1),d=Object(s.a)(u,2),f=d[0],p=d[1],N=r.a.useState(null),k=Object(s.a)(N,2),v=k[0],y=k[1];function C(){p(!1),n(!1),i(!1),y(null)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(h,{onEditProfile:function(){n(!0)},onAddPlace:function(){i(!0)},onEditAvatar:function(){p(!0)},onCardClick:function(e){y(e)},onClose:C}),r.a.createElement(_,null),r.a.createElement(E,{name:"form-edit",title:"Edit profile",isOpen:a,btnText:"Save",onClose:C},r.a.createElement("label",{className:"form__input-field"},r.a.createElement("input",{id:"form-name",name:"primary",className:"form__name form__input",type:"text",placeholder:"Name",required:!0,minLength:"2",maxLength:"40",pattern:"[A-Za-z -]*"}),r.a.createElement("span",{id:"form-name-error",className:"form__error"})),r.a.createElement("label",{className:"form__input-field"},r.a.createElement("input",{id:"form-occupation",name:"secondary",className:"form__occupation form__input secondary",type:"text",placeholder:"About",required:!0,minLength:"2",maxLength:"200"}),r.a.createElement("span",{id:"form-occupation-error",className:"form__error"}))),r.a.createElement(E,{name:"form-pic",title:"Change userpic",isOpen:f,btnText:"Save",onClose:C},r.a.createElement("label",{className:"form__input-field"},r.a.createElement("input",{id:"form-name",name:"primary",className:"form__name form__input",type:"url",placeholder:"Image link",required:!0}),r.a.createElement("span",{id:"form-name-error",className:"form__error"}))),r.a.createElement(E,{name:"form-add",title:"New place",isOpen:l,btnText:"Create",onClose:C},r.a.createElement("label",{className:"form__input-field"},r.a.createElement("input",{id:"form-place",name:"primary",className:"form__place form__input",type:"text",placeholder:"Title",required:!0,minLength:"1",maxLength:"30"}),r.a.createElement("span",{id:"form-place-error",className:"form__error"})),r.a.createElement("label",{className:"form__input-field"},r.a.createElement("input",{id:"form-url",name:"secondary",className:"form__url form__input",type:"url",placeholder:"Image link",required:!0}),r.a.createElement("span",{id:"form-url-error",className:"form__error"}))),r.a.createElement(E,{name:"form-delete",title:"Are you sure?",isOpen:null,btnText:"Yes",onClose:C}),r.a.createElement(b,{card:v,onClose:C}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){e.exports=a.p+"static/media/header-logo.8f7611ae.svg"},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.aafa000a.chunk.js.map